# ============================================
# Next.js Frontend Environment Variables
# 이 파일을 .env.local로 복사해 실제 값을 입력하세요
# ⚠️ .env.local 파일은 Git에 커밋하지 마세요
# ============================================

# --------------------------------------------
# 공개 환경 변수 (브라우저 노출)
# 반드시 NEXT_PUBLIC_ 접두사 사용
# --------------------------------------------

# 백엔드 API Base URL
# 예:
# - local: http://localhost:4000
# - dev:   https://api-dev.eduops.com
# - prod:  https://api.eduops.com
NEXT_PUBLIC_API_BASE_URL=

# 프런트엔드 앱 URL
# 예: http://localhost:3000
NEXT_PUBLIC_APP_URL=

# 앱 환경
# local | development | production
NEXT_PUBLIC_APP_ENV=local

# 앱 이름 (선택)
NEXT_PUBLIC_APP_NAME=EduOps

# 기능 플래그 (선택)
NEXT_PUBLIC_ENABLE_MOCK_API=false

# --------------------------------------------
# 서버 전용 환경 변수 (브라우저 비노출)
# --------------------------------------------
# Gemini API Key (필수: 실제 LLM 연결 시)
GEMINI_API_KEY=

# Gemini Model (선택)
GEMINI_MODEL=gemini-2.5-flash

# Gemini API Base URL (선택)
GEMINI_API_BASE_URL=https://generativelanguage.googleapis.com

# Gemini 안정화 옵션 (선택)
# - timeout(ms): 요청 타임아웃
# - max retries: 429/5xx/timeout 시 재시도 횟수
# - retry base delay(ms): 지수 백오프 기본 지연
# - max retries는 0 허용 (재시도 비활성화)
GEMINI_TIMEOUT_MS=20000
GEMINI_MAX_RETRIES=2
GEMINI_RETRY_BASE_DELAY_MS=700
GEMINI_THINKING_BUDGET=0
# 필요 시 출력 토큰 상한 설정 (예: 2200)
GEMINI_MAX_OUTPUT_TOKENS=

# 생성 API 자동 보정 단계 제어 (선택)
# - GENERATOR_AUTO_RETRY_PARSE: 1차 JSON 파싱 실패 시 generate 1회 추가 호출
# - GENERATOR_AUTO_REGENERATE_RULE_ERRORS: rule-check 에러 시 regenerate(all) 1회 호출
# 토큰 절감 모드에서는 false로 내려 호출 수를 줄일 수 있습니다.
GENERATOR_AUTO_RETRY_PARSE=true
GENERATOR_AUTO_REGENERATE_RULE_ERRORS=true

# Gemini 사용량 로그 출력 (선택)
# - true: 항상 출력
# - false: 항상 비활성화
# - 미설정: development에서만 출력
GEMINI_LOG_USAGE=true
